# 回饋系統演進文檔

**日期**：2025-10-28
**摘要**：從三選項回饋 (❌/△/✓) 演進至星數評分系統 (⭐1-5)

---

## 📊 設計演變時間軸

### 階段一：初期設計（認知階段）
**狀態**：❌ 已棄用
**概念**：簡單二選項 (👍/👎) 滿意度反饋

### 階段二：改進設計（澄清階段）
**狀態**：❌ 已棄用 (層二)
**概念**：三選項適用性評分
- ❌ 不適用
- △ 部分適用
- ✓ 適用

**應用層**：
- Layer One (Session層級)：✅ 持續使用
- Layer Two (PracticeCard層級)：❌ 改為星數

### 階段三：最終設計（當前狀態）
**狀態**：✅ 實施中
**架構**：雙層回饋系統

| 層級 | 評價對象 | 評分方式 | 依據 |
|------|---------|---------|------|
| **層一** | 整個推薦流程 | ❌/△/✓ 三選項 | Session-level 有效性評估 |
| **層二** | 單個練習卡 | ⭐ 星數 (1-5) | 細緻的實用程度評估 |

---

## 🔄 為什麼做出改變？

### 三選項系統的限制（Layer Two）

#### 問題一：粒度不足
- 三個選項無法充分表達用戶的細微體驗差異
- 用戶的判斷邏輯往往不是三分法
  - 「有些有用，有些沒用」 → 難以歸類為 △
  - 「很有幫助，但需要微調」 → 適用還是部分適用?

#### 問題二：無法區分程度
- △ (部分適用) 既可能表示「50% 有用」也可能表示「80% 有用」
- 無法區分這兩種情況的優化策略完全不同

#### 問題三：定性而非定量
- 三選項主要用於定性判斷
- 難以進行精確的排序和對比
- 後台分析時需要額外推理才能排序練習卡品質

### 星數系統的優勢

#### 優勢一：更細緻的表達
```
1 顆 - 完全不適用
2 顆 - 大多不適用
3 顆 - 部分適用
4 顆 - 大多適用
5 顆 - 完全適用
```

這 5 級刻度允許用戶精確表達他們的感受。

#### 優勢二：定量而非定性
- 可直接計算平均值 (average rating)
- 可對練習卡進行客觀排序
- 便於統計分析和機器學習

#### 優勢三：業界標準
- 用戶熟悉星數評分系統 (Amazon, Google, Apple)
- 直觀易用，無需額外解釋
- 移動端友好（點擊星數簡單快速）

#### 優勢四：更好的反饋動態
- 4-5 顆星 → 優化推薦排序
- 3 顆星 → 收集改進建議
- 1-2 顆星 → 診斷系統問題

---

## 📋 設計對比

### 三選項系統 (❌/△/✓)

**優點**：
- ✅ 概念簡單
- ✅ 明確區分「適用」和「不適用」的邊界
- ✅ 強制用戶三擇其一（清晰的決策）

**缺點**：
- ❌ 粒度不足，無法區分程度
- ❌ 中間選項容易成為「不知道怎麼選」的臨時選項
- ❌ 難以進行排序和定量分析

### 星數系統 (⭐⭐⭐⭐⭐)

**優點**：
- ✅ 業界標準，用戶熟悉
- ✅ 細緻的粒度 (5 級)
- ✅ 定量化，便於分析和排序
- ✅ 支援精確的平均值計算
- ✅ 視覺上直觀

**缺點**：
- ❌ 相比三選項，選擇更多可能增加決策時間
- ❌ 需要更多的教育（解釋 1-5 的含義）

**應對方案**：
- 提供清晰的文字說明和視覺指引
- 給予選中後的即時反饋（「你評分了 4 顆星 - 適用」）

---

## 🔄 數據遷移策略

如果系統中已有舊的三選項反饋數據，需要遷移至星數系統：

```python
# 遷移邏輯
migration_map = {
    "not_applicable": 1,         # ❌ → 1★
    "partially_applicable": 3,   # △ → 3★
    "applicable": 5              # ✓ → 5★
}

# 執行遷移
for feedback in old_feedbacks:
    feedback.rating = migration_map[feedback.rating]
    feedback.save()
```

**影響範圍**：
- Layer Two (PracticeCardFeedback) 需要遷移
- Layer One (SessionFeedback) 不受影響（保持三選項）

---

## 💾 數據庫更新

### 欄位變更

```sql
-- 舊定義
ALTER TABLE PracticeCardFeedback
  MODIFY rating VARCHAR(20)
  CHECK (rating IN ('not_applicable', 'partially_applicable', 'applicable'));

-- 新定義
ALTER TABLE PracticeCardFeedback
  MODIFY rating INT
  CHECK (rating >= 1 AND rating <= 5);
```

### SessionFeedback 保持不變

```sql
-- SessionFeedback 仍使用三選項（未改變）
ALTER TABLE SessionFeedback
  MODIFY rating VARCHAR(20)
  CHECK (rating IN ('not_applicable', 'partially_applicable', 'applicable'));
```

---

## 🎯 實施計劃

### 階段 1：準備（1-2 天）
- [ ] 完成數據庫遷移腳本編寫
- [ ] 編寫測試用例
- [ ] 備份現有數據

### 階段 2：開發（3-5 天）
- [ ] 更新 API 端點驗證邏輯
- [ ] 實現星數評分提交和修改
- [ ] 實現星數統計和分析

### 階段 3：UI 實施（2-3 天）
- [ ] 設計星數評分按鈕樣式
- [ ] 實現交互反饋
- [ ] 更新幫助文案

### 階段 4：驗證與優化（1-2 天）
- [ ] 測試數據遷移完整性
- [ ] 測試 API 端點
- [ ] 使用者驗收測試

### 階段 5：上線（1 天）
- [ ] 執行數據遷移
- [ ] 部署新版本
- [ ] 監控系統狀態

---

## 📊 預期效果

### 用戶側
| 指標 | 預期改進 |
|------|--------|
| **反饋精確度** | ↑ 40% (更多細節信息) |
| **用戶滿意度** | ↑ 20% (熟悉的評分方式) |
| **評分完成率** | → 無變化 |

### 系統側
| 指標 | 預期改進 |
|------|--------|
| **練習卡排序準確度** | ↑ 35% (更精確的分數) |
| **推薦相關性** | ↑ 25% (更好的定量基礎) |
| **分析複雜度** | ↓ 30% (直接計算平均值) |

---

## ✨ 後續優化機會

### 短期 (v2.1)
- [ ] 實現「人工智慧推薦」星數
  - 系統根據用戶行為模式推薦星數 (例如「基於你的類似練習評分，我建議 4★」)
- [ ] 實現「朋友推薦」功能
  - 看到朋友對同一卡片的評分

### 中期 (v3.0)
- [ ] 集成自動改進建議系統
  - 根據 1-3★ 反饋自動生成改進方案
- [ ] 實現練習卡品質評分
  - 基於聚合的用戶評分動態計算

### 長期
- [ ] 貝葉斯推薦系統
  - 基於用戶評分歷史預測新卡片的適用性
- [ ] 社群評分系統
  - 不同用戶群體（初級/進階、不同滑行風格）的區分評分

---

## 📞 常見問答

### Q1: 為什麼不是 10 顆星?
A: 10 顆星過於細緻，用戶難以精確判斷 (「4 顆和 5 顆有什麼區別?」)。5 顆星是業界的最佳實踐平衡點。

### Q2: 舊的 ❌/△/✓ 系統怎麼辦?
A: Layer One (Session-level) 保持不變。Layer Two (PracticeCard-level) 升級為星數。二者獨立運作。

### Q3: 用戶可以不評分嗎?
A: 可以。評分是可選的。系統會統計「未評分」比例，用於判斷卡片的有用性。

### Q4: 如何區分 4★ 和 5★?
A:
- 4★ = 相當有幫助，大部分需求都滿足
- 5★ = 非常有幫助，完全符合需求，願意推薦給他人

---

**文檔版本**：v1.0
**狀態**：批准
**下一次審查日期**：2025-11-28
