# 釐清問題

Session 的 chosen_symptom_id 是否可為空值？

# 定位

ERM：Session 表的 chosen_symptom_id 屬性，該屬性為 int 型別，規格中註明必須 > 0

# 多選題

| 選項 | 描述 |
|--------|-------------|
| A | 不可為空值，必須為有效的症狀 ID |
| B | 可為空值，當系統無法辨識症狀時 |
| C | 使用預設值（如 0），當系統無法辨識症狀時 |
| D | 使用特殊值（如 -1），當系統無法辨識症狀時 |
| Short | 提供其他簡短答案（<=5 字）|

# 影響範圍

影響資料庫 schema 設計，資料驗證邏輯，以及無法辨識症狀時的處理邏輯

# 優先級

High
- High：阻礙核心功能定義或資料建模

---

# 解決記錄

- **回答**：A - 不可為空值，必須為有效的症狀 ID
- **更新的規格檔**：spec/erm.dbml
- **變更內容**：在 Session 表的 chosen_symptom_id 屬性中更新 note，說明為了累積用戶提問並配合 AI 分析將問題分類對照清楚，每個 Session 都必須對應到一個明確的症狀。即使系統無法立即辨識，也會提供"最安全基礎練習組"作為默認症狀


---

# 解決記錄

- **回答**：A - 不可為空值，必須為有效的症狀 ID
- **更新的規格檔**：spec/erm.dbml
- **變更內容**：在 Session 實體的 chosen_symptom_id 屬性中更新 note，說明為了累積用戶提問並配合 AI 分析將問題分類對照清楚，每個 Session 都必須對應到一個明確的症狀。即使系統無法立即辨識，也會提供"最安全基礎練習組"作為默認症狀
