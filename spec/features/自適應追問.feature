Feature: 自適應追問

  Scenario: 置信度不足時進行追問
    Given 系統接收到使用者輸入 "轉彎會後坐"
    And 系統判斷症狀/條件置信度不足
    When 系統進行追問
    Then 系統應向使用者提出 1 到 2 個釐清問題

  Scenario: 置信度足夠時不追問
    Given 系統接收到使用者輸入 "轉彎會後坐"
    And 系統判斷症狀/條件置信度足夠
    When 系統進行追問
    Then 系統不應向使用者提出任何問題

  Rule: 判斷「症狀/條件置信度不足」的標準
    Example: 綜合考量多種因素判斷置信度不足
      Given 系統接收到使用者輸入 "轉彎不順"
      And 模型的預測機率分數低於 0.7
      And 系統辨識出多個可能性接近的「症狀種子」
      And 使用者輸入的問題過於簡短
      And 缺少必要的等級資訊
      When 系統判斷置信度
      Then 系統應判斷為「置信度不足」

  Rule: 追問問題的來源
    Example: 結合通用問題庫與缺失資訊動態生成追問問題
      Given 系統判斷為「置信度不足」
      And 系統有一個通用的追問問題庫
      And 缺少使用者等級資訊
      When 系統生成追問問題
      Then 系統應從通用問題庫中選取問題
      And 系統應根據缺失的等級資訊動態生成問題
      And 系統應向使用者提出 1 到 2 個追問問題

  Rule: 通用問題庫的維護與擴充
    Example: 結合管理員維護與AI學習的方式
      Given 系統需要維護和擴充追問問題庫
      When 系統需要增加新的追問問題
      Then 系統應結合管理員手動維護與AI學習使用者反饋的方式進行問題庫的維護與擴充
